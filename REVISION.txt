Revision history of openPOWERLINK Protocol Stack

Article no.:      SO-1083

Project start:    13.02.2006

Project manager:  R. Sieber (-rs)

Fellow worker:    Daniel Krüger (d.k.)
                  Michael Ulbricht (m.u.)

=============================================================================

07.11.2006 V1.0     First release, import into CVS
                    (d.k.)

18.01.2007 V1.1     MN support implemented
                    (d.k.)

04.02.2008 V1.1     Code cleanup based on PClint output
                    (d.k.)

14.04.2008 V1.1     - New driver and demo application for X86 with Realtek
                      RTL8139 network controller under Linux.
                    - several bug fixes in SDO module and NMT MN module.
                    (d.k., m.u.)

18.04.2008 V1.2     - new functions in EplApiLinuxUser interface
                    (m.u.)

17.06.2008 V1.2     - added support for RTL8139C, but refuse RTL8139C+
                    (d.k.)

14.07.2008 V1.2     - updates to EplApiLinux*.c for coming Qt demo
                    (d.k.)

23.06.2008 V1.2     - changed default node-ID to MN for RTL8139 MN demo application
                    - added SoA processing for ErrorHandler and PDO module on MN
                    - removed and fixed some TODOs and $$$
                    (d.k.)

19.08.2008 V1.2     - added Qt demo for X86 with RTL8139
                    - added handling of SDO errors on MN to demo projects.
                      These may occur if the CN drops and the SDO connection was not closed yet.
                    - added .cvsignore files to project directories
                    - added manufacturer specific EPL error codes (EPL_E_*) for
                      missing IdentResponse and StatusResponse
                    (d.k.)

25.08.2008 V1.2     - fixed bug in EplApiLinux*.c when EplApiShutdown() was called.
                      The process image thread still hung within Ioctl and therefore
                      the file release function was not called until SIGTERM.
                    (d.k.)

01.10.2008 V1.3     - SDO sequence layer: fixed error behaviour (reaction on retransmission request,
                      overrun of sequence number). tested against conformance test
                    - global.h: fixed 64-bit awarness of ARM GCC
                    (d.k.)

02.10.2008 V1.3     - updated XDD of Demo CN
                    - fixed size check when writing to OD (e.g. via SDO)
                    - made handling of some objects compliant to the spec (valid on reset, access rights)
                      (e.g. object 0x1006, 0x1F98/5)
                    (d.k.)

06.10.2008 V1.3     - added new module "PDO user part", which validates the PDO communication
                      and mapping parameters while changing them in the OD
                    - made object 0x1F8C NMT_CurrNmtState PDO-mappable (according to the spec)
                    - removed NMT MN state machine parts in Nmtu module, when MN is disabled
                    - disabled OBDu module in EplCfg.h of most projects, because EPL_OBD_USE_KERNEL
                      is used (by default in EplDef.h)
                    (d.k.)

16.10.2008 V1.3     - updated global.h with changes from CANopen
                    (d.k.)

17.10.2008 V1.3     - NMT MN module: delete timers while executing NMT reset communication
                    - DLL CN: ignore frame timeout of SoC in PreOp2, because otherwise we
                      would switch back and forth between PreOp2 and PreOp1
                    - ErrorHandlerk: added handling for LossOfPReq. Therefor object 0x1C0D was
                      added to objdict.h
                    - SDO communication layer: acknowledge NIL command on sequence layer
                    - adopt changes in objdict.h for XDD
                    - CN runs successfully through conformance test 0.9 on 2008/10/15
                    - added parentheses to all occurrences of EPL_MODULE_INTEGRATION,
                      hence using of EPL_MODULE_* defines to build it in EplCfg.h works.
                    (d.k.)

07.11.2008 V1.3     - added ARM support to global.h
                    - added Abstract Memory Interface for ARM processors (EplStack/amiarm.c)
                    (d.k.)

13.11.2008 V1.3     - fixed handling of NMT_MT6 (kEplNmtEventNmtCycleError) in NMT MN, NMTk and
                      DLLk module. The asynchronous queues are cleared now correctly, on change
                      from Op to PreOp1.
                    (d.k.)

14.11.2008 V1.3     - cf54drv for ECUcore-5484 now works on devboards with PCB 4158.4 and 4158.5
                    (d.k.)

17.11.2008 V1.3     - bug-fixes to demo-main.c of all targets:
                      * added prefix APP_ to local defines to avoid name collision with Linux for example
                      * added some objects to object dictionary for debugging purposes
                      * fixed speed selection (ignore upper bits now)
                      * global node-ID variable really reflects now the current node-ID
                      * added cyclelen parameter to kernel module
                    - added new Ethernet driver and demo project for Hilscher netX to special GPL-Addon
                    (d.k.)

21.11.2008 V1.3.1   - updated X86 Qt demo: it draws a rainbow now.
                    (d.k.)

24.11.2008 V1.3.1   - Edrv8139.c: workaround for bug in Linux kernel added (clearing driver structure
                      before calling pci_register_driver, because not all pointers inside the
                      structure are reset correctly, so some are freed twice which is very bad).
                    (d.k.)

05.12.2008 V1.3.1   - PDO module: ignore mapped object that does not exist.
                    (d.k.)

08.12.2008 V1.3.1   - EplApiLinuxKernel: using misc device instead of pure character device now,
                      because it automatically handles the sysfs entries
                    - added udev rule to X86 Qt demo
                    - updated demo_cn_kernel for ECUcore-5484 regarding the status and error LEDs
                    (d.k.)

03.02.2009 V1.3.1   - X86 Qt demo: added message box to show errors when initialization of the stack failed
                    - EplApiLinuxKernel.c: fixed hang in EplLinRelease(), when stack was not properly
                      initialized before (e.g. because of missing Ethernet controller)
                    (d.k.)

05.02.2009 V1.3.1   - added missing file EplLedu.c to public release
                    (d.k.)

